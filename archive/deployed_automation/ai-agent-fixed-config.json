{
  "nodes": [
    {
      "parameters": {
        "agent": "conversationalAgent",
        "promptType": "define",
        "text": "=Analyze this CV content and provide a comprehensive evaluation:\n\n{{ $json.pdfText }}",
        "systemMessage": "You are an expert CV screening agent analyzing candidates for a Data Analyst position requiring Python, SQL, and data visualization skills.\n\nAnalyze the CV and return ONLY valid JSON with this exact structure:\n\n{\n  \"name\": \"candidate full name\",\n  \"email\": \"email if found\", \n  \"overall_score\": 0-100,\n  \"category\": \"Highly Qualified/Qualified/Possibly Qualified/Unqualified\",\n  \"matchedSkills\": [\"skill1\", \"skill2\"],\n  \"yearsExperience\": number,\n  \"redFlags\": [\"flag1\", \"flag2\"],\n  \"strengths\": [\"strength1\", \"strength2\", \"strength3\"],\n  \"recommendation\": \"hire/maybe/no with reasoning\"\n}\n\nScoring criteria:\n- 90-100: Highly Qualified - Perfect match with all requirements\n- 70-89: Qualified - Strong candidate missing minor requirements\n- 50-69: Possibly Qualified - Has potential but lacks key skills\n- 0-49: Unqualified - Does not meet minimum requirements\n\nBase your scoring on:\n1. Technical skills match (Python, SQL, data visualization)\n2. Years of relevant experience\n3. Industry experience\n4. Education level\n5. Project complexity and achievements\n\nReturn ONLY the JSON object, no additional text.",
        "options": {
          "maxIterations": 10,
          "returnIntermediateSteps": false
        },
        "sessionIdType": "customKey",
        "sessionKey": "={{ $json.id }}"
      },
      "id": "ai-agent-fixed",
      "name": "AI Agent for Scoring",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [-2090, 280]
    }
  ],
  "connections": {}
}