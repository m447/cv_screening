{
  "nodes": [
    {
      "parameters": {
        "jsCode": "// Get the files array from the API response\nconst items = $input.all();\nlet allFiles = [];\n\n// Extract files from the API response structure\nitems.forEach(item => {\n  if (item.json.files && Array.isArray(item.json.files)) {\n    // API returns {files: [...]} structure\n    allFiles = allFiles.concat(item.json.files);\n  } else if (item.json.mimeType) {\n    // Individual file items\n    allFiles.push(item.json);\n  }\n});\n\n// Filter only PDF files\nconst pdfFiles = allFiles.filter(file => {\n  return file.mimeType === 'application/pdf';\n});\n\n// Return each PDF as a separate item for n8n\nreturn pdfFiles.map(pdf => ({ json: pdf }));"
      },
      "id": "filter-pdfs-corrected",
      "name": "Filter PDFs Only",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [-2832, 278.5]
    }
  ],
  "connections": {}
}